{"remainingRequest":"/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/node_modules/babel-loader/lib/index.js!/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/src/components/singleBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/src/components/singleBook.vue","mtime":1538761552761},{"path":"/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/dario/Radna površina/Dario Knezović/Programiranje/Vue/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"singleBook\",\n  data: function data() {\n    return {\n      isLoaded: false,\n      book: [],\n      isRated: false,\n      rate: 0,\n      comment: ''\n    };\n  },\n  created: function created() {\n    this.getSingleBook();\n  },\n  methods: {\n    getSingleBook: function getSingleBook() {\n      var _this = this;\n\n      var book_id = this.$route.params.bookId;\n      this.$http.get('http://localhost:3030/book/' + book_id).then(function (response) {\n        _this.book = response.body;\n        console.log(_this.book);\n        _this.isLoaded = true;\n      });\n    },\n    rateThis: function rateThis(rate) {\n      this.rate = rate;\n      $(\".stars\").removeClass('checked');\n\n      for (var i = 1; i <= rate; i++) {\n        $(\"#star-\" + i).addClass('checked');\n      }\n\n      this.isRated = true;\n    },\n    sendRate: function sendRate() {\n      var rateJSON = {\n        \"rate\": this.rate,\n        \"bookID\": this.book.id\n      };\n      this.$http.post('http://localhost:3030/rate', rateJSON).then(function (response) {\n        if (response.status === 200) {\n          console.log('Rated');\n        }\n      });\n    },\n    takeBook: function takeBook() {\n      var takingBookJSON = {\n        \"remember_token\": this.$cookie.get('rememberToken').trim().replace(/['\"]+/g, ''),\n        \"bookID\": this.book.id\n      };\n      this.$http.post('http://localhost:3030/take-book', takingBookJSON).then(function (response) {\n        if (response.status === 200) {\n          console.log('Taking successful');\n        }\n      });\n    },\n    sendComment: function sendComment() {\n      var commentJSON = {\n        \"remember_token\": this.$cookie.get('rememberToken').trim().replace(/['\"]+/g, ''),\n        \"bookID\": this.book.id,\n        \"comment\": this.comment\n      };\n      this.$http.post('http://localhost:3030/send-comment', commentJSON).then(function (response) {\n        if (response.status === 200) {\n          console.log('Successfuly sended comment!!');\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["singleBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,eAAA;AACA,QAAA,YADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,gBAAA,KADA;AAEA,YAAA,EAFA;AAGA,eAAA,KAHA;AAIA,YAAA,CAJA;AAKA,eAAA;AALA,KAAA;AAOA,GAVA;AAWA,WAAA,mBAAA;AACA,SAAA,aAAA;AACA,GAbA;AAcA,WAAA;AACA,mBAAA,yBAAA;AAAA;;AACA,UAAA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AAEA,WAAA,KAAA,CAAA,GAAA,CAAA,gCAAA,OAAA,EAAA,IAAA,CAAA,oBAAA;AACA,cAAA,IAAA,GAAA,SAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,IAAA;AACA,cAAA,QAAA,GAAA,IAAA;AACA,OAJA;AAKA,KATA;AAUA,cAAA,kBAAA,IAAA,EAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,QAAA,QAAA,EAAA,WAAA,CAAA,SAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,KAAA,IAAA,EAAA,GAAA,EAAA;AACA,UAAA,WAAA,CAAA,EAAA,QAAA,CAAA,SAAA;AACA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAjBA;AAkBA,cAAA,oBAAA;AACA,UAAA,WAAA;AACA,gBAAA,KAAA,IADA;AAEA,kBAAA,KAAA,IAAA,CAAA;AAFA,OAAA;AAKA,WAAA,KAAA,CAAA,IAAA,CAAA,4BAAA,EAAA,QAAA,EAAA,IAAA,CAAA,oBAAA;AACA,YAAA,SAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,OAAA;AACA;AACA,OAJA;AAKA,KA7BA;AA8BA,cAAA,oBAAA;AACA,UAAA,iBAAA;AACA,0BAAA,KAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,IAAA,GAAA,OAAA,CAAA,QAAA,EAAA,EAAA,CADA;AAEA,kBAAA,KAAA,IAAA,CAAA;AAFA,OAAA;AAKA,WAAA,KAAA,CAAA,IAAA,CAAA,iCAAA,EAAA,cAAA,EAAA,IAAA,CAAA,oBAAA;AACA,YAAA,SAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,mBAAA;AACA;AACA,OAJA;AAKA,KAzCA;AA0CA,iBAAA,uBAAA;AACA,UAAA,cAAA;AACA,0BAAA,KAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,IAAA,GAAA,OAAA,CAAA,QAAA,EAAA,EAAA,CADA;AAEA,kBAAA,KAAA,IAAA,CAAA,EAFA;AAGA,mBAAA,KAAA;AAHA,OAAA;AAMA,WAAA,KAAA,CAAA,IAAA,CAAA,oCAAA,EAAA,WAAA,EAAA,IAAA,CAAA,oBAAA;AACA,YAAA,SAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,8BAAA;AACA;AACA,OAJA;AAKA;AAtDA;AAdA,CAAA","sourcesContent":["<template>\n    <div>\n        <div v-show=\"!isLoaded\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n                <defs>\n                    <filter id=\"gooey\">\n                        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"10\" result=\"blur\"></feGaussianBlur>\n                        <feColorMatrix in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7\" result=\"goo\"></feColorMatrix>\n                        <feBlend in=\"SourceGraphic\" in2=\"goo\"></feBlend>\n                    </filter>\n                </defs>\n            </svg>\n            <div class=\"blob blob-0\"></div>\n            <div class=\"blob blob-1\"></div>\n            <div class=\"blob blob-2\"></div>\n            <div class=\"blob blob-3\"></div>\n            <div class=\"blob blob-4\"></div>\n            <div class=\"blob blob-5\"></div>\n        </div>\n        <div class=\"center-content\">\n            <div class=\"image-content\" v-show=\"isLoaded\">\n                <h1>{{book.title}}</h1>\n                <h4>{{book.author}}</h4>\n                <img :src=\"'http://localhost:3030/images/'+book.image_name\" class=\"book-image\">\n            </div>\n            <div class=\"text-content\" v-show=\"isLoaded\">\n                {{book.description}}\n\n                <div class=\"middle-box\">\n                    <div class=\"stars-box\">\n                        <span class=\"overall-rating\">{{book.rating}}</span> /<span class=\"max-rating\">5</span>\n                        <h3>Rate this book</h3>\n                        <span v-for=\"n in 5\" v-bind:id=\"'star-'+n\" v-on:click=\"rateThis(n)\" class=\"stars\">\n                            <font-awesome-icon :icon=\"['fas', 'star']\" />\n                        </span>\n                        <div></div>\n                        <div class=\"rate-button\" v-show=\"isRated\" v-on:click=\"sendRate\">\n                            Rate\n                        </div>\n                    </div>\n                    <div>\n                        <b>Quantity: </b> {{book.quantity}}\n                        <div></div>\n                        <div class=\"take-btn\" v-if=\"book.quantity != 0\" v-on:click=\"takeBook\">\n                            Take it\n                        </div>\n                    </div>\n                </div>\n                <div class=\"comment-section\">\n                    <div class=\"comment-text\">\n                        <input type=\"text\" v-model=\"comment\" class=\"comment-input\" placeholder=\"Your comment\">\n                    </div>\n                    <div class=\"sendBtn\">\n                        <img src=\"../assets/paper-plane.svg\" class=\"sendImg\" v-on:click=\"sendComment\" />\n                    </div>\n                </div>\n                <div class=\"comments\">\n                    <div class=\"comment\" v-for=\"comment in book.comments\">\n                        {{comment.username}} - {{comment.comment_text}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"singleBook\",\n        data() {\n            return {\n                isLoaded: false,\n                book: [],\n                isRated: false,\n                rate: 0,\n                comment: '',\n            }\n        },\n        created: function () {\n            this.getSingleBook();\n        },\n        methods: {\n            getSingleBook: function () {\n                var book_id = this.$route.params.bookId;\n\n                this.$http.get('http://localhost:3030/book/'+book_id).then(response => {\n                    this.book = response.body;\n                    console.log(this.book);\n                    this.isLoaded = true;\n                })\n            },\n            rateThis: function (rate) {\n                this.rate = rate;\n                $(\".stars\").removeClass('checked');\n                for(var i=1; i<=rate; i++) {\n                    $(\"#star-\"+i).addClass('checked');\n                }\n                this.isRated=true;\n            },\n            sendRate: function () {\n                var rateJSON = {\n                    \"rate\":     this.rate,\n                    \"bookID\":   this.book.id\n                };\n\n                this.$http.post('http://localhost:3030/rate', rateJSON).then(response => {\n                    if(response.status === 200) {\n                        console.log('Rated');\n                    }\n                })\n            },\n            takeBook: function () {\n                var takingBookJSON = {\n                    \"remember_token\":   this.$cookie.get('rememberToken').trim().replace(/['\"]+/g, ''),\n                    \"bookID\":           this.book.id,\n                };\n\n                this.$http.post('http://localhost:3030/take-book', takingBookJSON).then(response => {\n                    if(response.status === 200) {\n                        console.log('Taking successful');\n                    }\n                })\n            },\n            sendComment: function() {\n                var commentJSON = {\n                    \"remember_token\":   this.$cookie.get('rememberToken').trim().replace(/['\"]+/g, ''),\n                    \"bookID\":           this.book.id,\n                    \"comment\":          this.comment,\n                };\n\n                this.$http.post('http://localhost:3030/send-comment', commentJSON).then(response => {\n                    if(response.status === 200) {\n                        console.log('Successfuly sended comment!!');\n                    }\n                });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n    /*LOADING ANIMATION */\n\n    .blob {\n        width: 2rem;\n        height: 2rem;\n        background: rgba(230,230,230,0.85);\n        border-radius: 50%;\n        position: absolute;\n        left: calc(50% - 1rem);\n        top: calc(50% - 1rem);\n        box-shadow: 0 0 1rem rgba(255, 255, 255, 0.25);\n    }\n\n    .blob-2 { animation: animate-to-2 1.5s infinite; }\n    .blob-3 { animation: animate-to-3 1.5s infinite; }\n    .blob-1 { animation: animate-to-1 1.5s infinite; }\n    .blob-4 { animation: animate-to-4 1.5s infinite; }\n    .blob-0 { animation: animate-to-0 1.5s infinite; }\n    .blob-5 { animation: animate-to-5 1.5s infinite; }\n\n    @keyframes animate-to-2 {\n        25%, 75% { transform: translateX(-1.5rem) scale(0.75); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    @keyframes animate-to-3 {\n        25%, 75% { transform: translateX(1.5rem) scale(0.75); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    @keyframes animate-to-1 {\n        25% { transform: translateX(-1.5rem) scale(0.75); }\n        50%, 75% { transform: translateX(-4.5rem) scale(0.6); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    @keyframes animate-to-4 {\n        25% { transform: translateX(1.5rem) scale(0.75); }\n        50%, 75% { transform: translateX(4.5rem) scale(0.6); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    @keyframes animate-to-0 {\n        25% { transform: translateX(-1.5rem) scale(0.75); }\n        50% { transform: translateX(-4.5rem) scale(0.6); }\n        75% { transform: translateX(-7.5rem) scale(0.5); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    @keyframes animate-to-5 {\n        25% { transform: translateX(1.5rem) scale(0.75); }\n        50% { transform: translateX(4.5rem) scale(0.6); }\n        75% { transform: translateX(7.5rem) scale(0.5); }\n        95% { transform: translateX(0rem) scale(1); }\n    }\n\n    .center-content {\n        display: flex;\n        flex-direction: row;\n        background-color: #fff;\n        margin: 50px 10%;\n    }\n\n    .book-image {\n        height: 400px;\n    }\n\n    .text-content {\n        text-align: left;\n        padding: 20px;\n    }\n\n    .checked {\n        color: #FFD700;\n    }\n\n    .rate-button {\n        display: inline-block;\n        background-color: #FF8C00;\n        padding: 15px 20px;\n        font-weight: 900;\n        text-transform: uppercase;\n        border-radius: 10px;\n        color: #fff;\n        margin-top: 5px;\n        cursor: default;\n    }\n\n    .overall-rating {\n        font-size: 18px;\n        color: #FF8C00;\n    }\n\n    .max-rating {\n        font-size: 24px;\n        font-weight: bold;\n    }\n\n    .middle-box {\n        display: flex;\n        flex-direction: row;\n        margin-top: 20px;\n        justify-content: space-between;\n    }\n\n    .take-btn {\n        margin-top: 10px;\n        display: inline-block;\n        padding: 10px;\n        background: #f0f0f0;\n        border-radius: 10px;\n        cursor: default;\n    }\n\n    .comment-section {\n        display: flex;\n        flex-direction: row;\n        margin-top: 20px;\n    }\n\n    .sendBtn {\n        margin-left: 20px;\n        background: #000080;\n        padding: 10px;\n        border-radius: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .sendImg {\n        height: 24px;\n    }\n\n    .comment-text {\n        display: flex;\n        align-items: center;\n        width: 50%;\n    }\n\n    .comment-input {\n        width: 100%;\n        padding: 10px 5px;\n        outline: none;\n        border-radius: 5px;\n    }\n</style>"],"sourceRoot":"src/components"}]}